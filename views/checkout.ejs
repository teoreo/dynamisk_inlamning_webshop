
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>checkout</title>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
    
</head>

<body>
    <div class="container-fluid">
        <header>
            <div class="row">
                <div class="col-12 logo-container">
                    <img src="./images/logo_blue.svg" alt="websurfers-logo" class="logoimg">
                </div>
            </div>
        </header>

        <div class="row">
            <% user.checkout.forEach((product) => {%>

            <div class="col-sm-12 col-md-12 col-lg-6 orderinformationborder">
                <div class="row orderinformation">
                    <% if(product.productId) {%>
                    <div class="col-8">
                        <span class="ordername"><%= product.productId.title %></span>
                    </div>
                    <div class="col-4 orderprice ml-auto">
                        <%= product.productId.price %>
                        <span class="orderpricesek">
                            SEK
                        </span>
                    </div>
                    <div class="col-10">
                        <span class="country"><%= product.productId.country %></span>
                    </div>
                        <div class="col-2">
                            <a href="/deletecheckout/<%=product.productId._id%>"><img src="/images/delete.svg" alt="delete"
                            class="img-fluid img-thumbnail smallimg"></a>
                    </div>
                </div>
            </div>
            <%};%> 
        </div>
        <%});%> 
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-6 informationsection">
                <div class="row">
                    <div class="col-12">
                        <h5>INFORMATION</h5>
                        <form>
                            <div class="row">
                                <div class="col-sm-12 col-md-6 col-lg-6">
                                    <input type="text" class="inputshortco" id="fname" name="fname"
                                        placeholder="First name">
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-6">
                                    <input type="text" class="inputshortco" id="lname" name="lname"
                                        placeholder="Last name">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <input type="text" class="inputlongco" id="email" name="email" placeholder="Email">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <input type="text" class="inputlongco" id="address" name="address"
                                        placeholder="Address">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <input type="text" class="inputshortco" id="zipcode" name="zipcode"
                                        placeholder="Zip code">
                                </div>
                                <div class="col-6">
                                    <input type="text" class="inputshortco" id="city" name="city" placeholder="City">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-6 paymentsection">
                <div class="row">
                    <div class="col-12">
                        <h5 class="title">PAYMENT</h5>
                    </div>
                </div>
                    <!-- <form id="payment-form">
                        <div id="card-element" class="base"> -->
                          <!-- Elements will create input elements here -->
                        <!-- </div> -->
                      
                        <!-- We'll put the error messages in this element -->
                        <!-- <div id="card-errors" role="alert" class="errorMessage"></div>
                      
                        <button id="submit" class="buttonblue">Pay</button>
                    </form> -->
                      <form>
                          
                   <!--  <div class="row">
                        <div class="col-12">
                            <input type="text" class="inputlongco" id="cardno" name="cardno" placeholder="Card No."
                                width="500px">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-md-6 col-lg-6">
                            <input type="text" class="inputshortco" id="ddmm" name="ddmm" placeholder="DD/MM">
                        </div>
                        <div class="col-sm-12 col-md-6 col-lg-6">
                            <input type="text" class="inputshortco" id="cvc" name="cvc" placeholder="CVC/CVV">
                        </div>
                    </div> -->


                    <div class="row">
                        <div class="col-sm-12 col-m-12 col-lg-12">
                            <span class="gdpr">
                                By completing the order you agree to our terms of purchase and privacy policy.
                            </span>
                            <span class="gdpr">
                                accusantium doloremque laudantium, totam rem iam,
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 buttondiv">
                            <button type="submit" class="buttonblue" id="paybtn">PAY</button>
                        </div>
                    </div>
                </form>
                <div class="row paymentlogos">
                    <div class="col-12">
                        <img src="./images/mastercard.svg" alt="mastercard-logo" class="paymentlogo">
                        <img src="./images/visa.svg" alt="visa-logo" class="paymentlogo">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://js.stripe.com/v3/"></script>
    <script>
        var stripe = Stripe("pk_test_CsuKIbpTGSuRpzy6P50x2amv00vs94ngy6");
        document.querySelector("#paybtn").addEventListener("click", () => {
            stripe.redirectToCheckout({
                sessionId:"<%=sessionId%>"
            });
        });

    </script>

</body>

</html>